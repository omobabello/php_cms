var app=new Vue({el:"#app",data:{blog_link:"",message:"",isError:!1},methods:{addBlog(){let s="",e=!0;if(this.isWebsite(this.blog_link)||(s+="Blog link is not a website <br/>",e&=!1),e){this.clearMessage();let s=this.toFormData({blog_link:this.blog_link});axios.post("http://localhost/gym_cms/index.php/AddBlog",s).then(s=>{s.data.status?this.displayMessage("Link successfully uploaded"):this.displayMessage("Operation Failed",!0)})}else this.displayMessage(s,!0)},getLinks(){axios.get("http://localhost/gym_cms/index.php/GetBlog").then(s=>{this.blog_link=s.data.blog_link,console.log(this.blog_link)})},isWebsite:s=>/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+$/.test(s),toFormData(s){let e=new FormData;for(key in s)e.append(key,s[key]);return e},displayMessage(s,e=!1){this.isError=e,this.message=s},clearMessage(){this.isError=!1,this.message=""}},computed:{messageClass(){return this.isError?"alert alert-danger":"alert alert-success"}},mounted(){this.getLinks()}});